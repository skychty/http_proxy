# systemd journald 配置文件示例
# 用于限制HTTPS代理服务的日志大小
#
# 安装方法：
# 1. 复制到配置目录：
#    sudo cp journald-https-proxy.conf /etc/systemd/journald.conf.d/https-proxy.conf
#
# 2. 重启journald服务：
#    sudo systemctl restart systemd-journald
#
# 注意：此配置会影响所有使用journald的服务，不仅仅是https-proxy
# 如果只想限制https-proxy的日志，建议在server.py中调整日志级别

[Journal]
# 限制journal日志最多使用的磁盘空间
# 默认值：文件系统的10%
# 示例值：2G, 5G, 10G
SystemMaxUse=2G

# 确保至少保留的可用磁盘空间
# 默认值：文件系统的15%
# 示例值：1G, 2G, 5G
SystemKeepFree=1G

# 每个日志文件的最大大小
# 默认值：未设置（使用系统默认值）
# 示例值：100M, 200M, 500M
SystemMaxFileSize=100M

# 最多保留的日志文件数量
# 默认值：100
# 示例值：50, 100, 200
SystemMaxFiles=50

# 日志保留时间
# 默认值：未设置（使用MaxFileSec）
# 示例值：7day, 30day, 1month
MaxRetentionSec=30day

# 每个日志文件的时间范围
# 默认值：1month
# 示例值：1day, 1week, 1month
MaxFileSec=1week

# 启用日志压缩（节省磁盘空间）
# 默认值：yes
Compress=yes

# 日志同步间隔
# 默认值：5m
# 示例值：1m, 5m, 10m
SyncIntervalSec=5m

